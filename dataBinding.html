<!DOCTYPE html>
<html>
  <head>
    <meta name="generator"
    content="HTML Tidy for HTML5 (experimental) for Windows https://github.com/w3c/tidy-html5/tree/c63cc39" />
    <title>Data Binding</title>
    <link rel="stylesheet" type="text/css" href="allStyle.css" />
    <link rel="stylesheet" type="text/css" href="https://codemirror.net/theme/solarized.css" />
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <link rel="stylesheet" href="CodeMirror/lib/codemirror.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.17/require.min.js"></script>
    <script src="dataBinding.js"></script>
  </head>
  <body>
    <aside>
      <ul>
        <li>
          <a href="main.html">Home</a>
        </li>
        <li>
          <a href="start.html">Getting Started</a>
        </li>
        <li>
          <a href="svg.html">SVG</a>
        </li>
        <li>
          <a href="dataBinding.html">Data Binding</a>
        </li>
        <li>
          <a href="lineGraph.html">Line Graph</a>
        </li>
      </ul>
    </aside>
    <section>
      <header>Data Binding</header>
      <p> Data Binding is how D3 automatically genereates SVG/DOM elements. D3 binds data with DOM elements and will 
	  update your page based on changing data. This is possible by using D3's <a href = "https://github.com/mbostock/d3/wiki/API-Reference#d3-core">Selection module</a>. 
	  The following example shows how D3 can create circle SVG objects automatically based on the array of circle objects stored in the variable data. The functions 
	  that are used in this example are the following;
		  <br/>
		  <br/>.select()  - as stated by the <a href = "https://github.com/mbostock/d3/wiki/Selections">d3 wiki page</a> "you can select by tag ("div"), class (".awesome"), unique identifier ("#foo"), attribute ("[color=red]"),
		  or containment ("parent child"). Selectors can also be intersected (".this.that" for logical AND) or unioned (".this, .that" for logical OR)",
		  <br/>
		  <br/>
		  .selectAll()
		  <br/>
		  <br/>
		  .data()
		 <br/>
		 <br/>
		  .enter()
			<br/>
		  <br/>
		  .append()
	<br/>
	<br/>
		  .exit()
	<br/>
	<br/>
	  If you run the following code, you will see three pink circles. The data was generated by creating an array of circle objects. Note that anonymous functions are used in
	  order to access the individual objects in the array. 
	  <img name = "images" src= "dataBinding/3circles.png" style="width:150px; height:240px"/>
	  
      <div class="outerDiv">
        <textarea rows="4" cols="20" id="db1">
<svg id="isSvg" height = 400 width = 400></svg>
  <script>

  function circle (x,y,r) {
    this.x = x;
    this.y = y;
    this.radius=r;
  }

  var data = [new circle(100,30,20), new circle(100,70,30), new circle(100,120,40)];
  console.log(data);

  var svg = d3.select("#isSvg").selectAll("circle")
    .data(data)
    .enter()
    .append("circle")
    .attr("cx", function(circle){return circle.x;})
    .attr("cy", function(circle){return circle.y;})
    .attr("r", function(circle){return circle.radius;})
    .style("fill", "pink");
  </script>

 </textarea>
      </div>
	  
	  <p> Now we will add another circle object "new circle(100,270,50)" to the data array. 
	  The data is the only code that has been modified, so with the same code, another circle is generated.</p>
	  
	    <div class="outerDiv">
        <textarea rows="4" cols="20" id="db2">
  <svg id="isSvg" height = 400 width = 400></svg>
  <script>

  function circle (x,y,r) {
    this.x = x;
    this.y = y;
    this.radius=r;
  }

  var data = [new circle(100,30,20), new circle(100,90,30), 
  new circle(100,170,40), new circle(100,270,50)];
  console.log(data);

  var svg = d3.select("#isSvg").selectAll("circle")
    .data(data)
    .enter()
    .append("circle")
    .attr("cx", function(circle){return circle.x;})
    .attr("cy", function(circle){return circle.y;})
    .attr("r", function(circle){return circle.radius;})
    .style("fill", "pink");
  </script>
 </textarea>
      </div>
	  	  <img name = "images" src= "dataBinding/4circles.png" style="width:150px; height:240px""/>
    </section>
  </body>
</html>